<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Internships - Partnerdesk</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/scrollreveal"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      background-color: #1A202C; /* Dark Blue-Gray background */
      color: #E2E8F0; /* Light text for dark background */
      overflow-x: hidden; /* Prevent horizontal scroll */
      transition: background-color 0.3s ease; /* Smooth background transition */
    }

    body.no-scroll {
      overflow: hidden; /* Prevent body scroll when nav is open */
    }

    /* Custom styles for the logo and site title - consistent with index.html */
    .logo-title-container {
      position: fixed;
      top: 0;
      left: 0;
      padding: 1.5rem 2rem;
      z-index: 1001;
      display: flex;
      align-items: center;
      background: linear-gradient(to right, rgba(0,0,0,0.8), rgba(0,0,0,0)); /* Gradient for subtle effect */
      width: 300px; /* Adjust width as needed */
    }

    .logo-title-container .logo {
      width: 90px; /* Increased logo size by 50% (from 60px) to match index.html */
      height: 90px; /* Increased logo size by 50% (from 60px) to match index.html */
      margin-right: 1rem;
      border-radius: 8px; /* Rounded corners for logo */
      object-fit: cover; /* Ensure logo covers the area */
    }

    .logo-title-container .site-title {
      font-size: 1.8rem; /* Big Partnerdesk */
      font-weight: 700;
      color: #ffffff;
      letter-spacing: -0.05em;
    }

    /* Navigation Bar - consistent with index.html */
    nav {
      position: fixed;
      top: 0;
      right: 0; /* Align to right */
      height: 100vh; /* Full height */
      width: 250px; /* Reduced width */
      background: rgba(0, 0, 0, 0.8); /* Semi-transparent dark background */
      backdrop-filter: blur(10px); /* Frosted glass effect */
      color: white;
      padding: 2rem 1rem;
      z-index: 1000;
      display: flex;
      flex-direction: column; /* Stack links vertically */
      justify-content: center; /* Center links vertically */
      box-shadow: -5px 0 15px rgba(0,0,0,0.3); /* Shadow on the left side */
      transition: transform 0.3s ease-in-out; /* Smooth transition for responsiveness */
      transform: translateX(100%); /* Hidden by default */
    }

    nav.active {
      transform: translateX(0%); /* Show when active */
    }

    nav a {
      color: #ffffff;
      text-decoration: none;
      font-weight: 600;
      padding: 0.8rem 1.5rem;
      margin: 0.5rem 0;
      border-radius: 8px; /* Rounded corners */
      transition: background-color 0.3s, color 0.3s, transform 0.2s;
      text-align: right; /* Align text to the right */
    }

    nav a:hover {
      background-color: rgba(255, 255, 255, 0.1);
      color: #00BCD4; /* Accent color: Cyan */
      transform: translateX(-5px); /* Slight hover effect */
    }

    /* Hamburger menu - consistent with index.html */
    .hamburger-menu {
      display: flex; /* Always visible */
      position: fixed;
      top: 1.5rem;
      right: 1.5rem;
      z-index: 1002;
      cursor: pointer;
      flex-direction: column;
      justify-content: space-around;
      width: 30px;
      height: 25px;
      transition: all 0.3s ease-in-out;
    }

    .hamburger-menu .bar {
      width: 100%;
      height: 3px;
      background-color: white;
      border-radius: 2px;
      transition: all 0.3s ease-in-out;
    }

    /* Overlay for when nav is open - consistent with index.html */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
      z-index: 999; /* Below nav, above content */
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* Page Header Section - New Gradient (Green-Cyan-Blue) */
    .page-header {
      background: linear-gradient(to bottom right, #00C853, #00BCD4, #007BFF); /* Green, Cyan, Blue */
      color: white;
      padding: 8rem 1rem 4rem; /* Adjusted padding for sub-pages */
      text-align: center;
      position: relative;
      overflow: hidden;
      border-bottom-left-radius: 50px;
      border-bottom-right-radius: 50px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    .page-header h1 {
      font-size: 3rem; /* Slightly smaller for sub-pages */
      margin: 0 0 1rem;
      font-weight: 700;
      letter-spacing: -0.08em;
      text-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .page-header p {
      font-size: 1.2rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      opacity: 0.9;
    }

    /* Section Styling */
    .section {
      padding: 5rem 1.5rem; /* Increased padding */
      max-width: 1200px;
      margin: auto;
      text-align: center;
    }

    .section h2 {
      font-size: 2.5rem; /* Larger section titles */
      margin-bottom: 2.5rem;
      font-weight: 700;
      color: #E2E8F0; /* Light text for dark background */
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    /* Styles for the prominent showcase cards */
    .domain-showcase-card {
      background: #2a2a4a; /* Default dark background for all cards */
      border-radius: 20px; /* Even more rounded corners */
      padding: 3rem; /* Increased padding for larger content */
      box-shadow: 0 8px 30px rgba(0,0,0,0.4); /* Stronger shadow */
      transition: transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
      border: 1px solid; /* Border will be dynamically colored */
      text-align: center; /* Center content within this card */
      margin-bottom: 4rem; /* Space between cards */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .domain-showcase-card img {
      max-width: 350px; /* Increased width for images to match index.html */
      height: 200px; /* Increased height for images to match index.html */
      border-radius: 15px; /* Rounded corners for image */
      margin-bottom: 2rem;
      object-fit: cover;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .domain-showcase-card h3 {
      font-size: 2.5rem; /* Larger title for this prominent card */
      margin-bottom: 1.5rem;
      /* color will be inherited or set dynamically */
    }

    .domain-showcase-card p {
      font-size: 1.3rem; /* Larger text for this card */
      /* color will be inherited or set dynamically */
      margin-bottom: 2rem;
      max-width: 800px;
    }

    .domain-showcase-card .apply-button,
    .domain-showcase-card .edit-button,
    .domain-showcase-card .delete-button {
      display: inline-block;
      padding: 1.2rem 3rem; /* Even larger button */
      color: white;
      text-decoration: none;
      border-radius: 30px;
      font-weight: 700;
      transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      margin: 0.5rem; /* Space between buttons */
    }

    .domain-showcase-card .apply-button:hover,
    .domain-showcase-card .edit-button:hover,
    .domain-showcase-card .delete-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }

    /* Default button colors for apply, edit, delete */
    .domain-showcase-card .apply-button { background-color: #00BCD4; } /* Teal from new gradient */
    .domain-showcase-card .apply-button:hover { background-color: #00ACC1; }

    .domain-showcase-card .edit-button { background-color: #3182CE; } /* Blue for edit */
    .domain-showcase-card .edit-button:hover { background-color: #2c5282; }

    .domain-showcase-card .delete-button { background-color: #E53E3E; } /* Red for delete */
    .domain-showcase-card .delete-button:hover { background-color: #C53030; }


    /* New styles for the "Why Intern with Partnerdesk?" section */
    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem; /* Increased gap for better spacing */
      margin-top: 2rem;
    }

    .benefit-card {
      background: #2D3748; /* Default background for benefits */
      border-radius: 15px;
      padding: 2rem;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
      transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      border: 1px solid; /* Border will be colored per card */
      text-align: center; /* Center content within card */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; /* Align content to top */
    }

    .benefit-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 15px 40px rgba(0,0,0,0.5);
    }

    .benefit-card .icon-wrapper {
      width: 70px; /* Larger icon size */
      height: 70px;
      background-color: rgba(255, 255, 255, 0.1); /* Subtle background for icon */
      border-radius: 50%; /* Circular icon background */
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    .benefit-card .icon-wrapper svg {
      width: 40px; /* SVG icon size */
      height: 40px;
    }

    .benefit-card h3 {
      font-size: 1.8rem; /* Larger heading for benefits */
      margin-bottom: 1rem;
      font-weight: 700;
    }

    .benefit-card p {
      font-size: 1.1rem;
      color: #A0AEC0; /* Lighter grey for text */
      flex-grow: 1; /* Allow description to take available space */
    }

    /* Specific bright colors for benefit cards */
    .benefit-card.color-1 { background-color: #38A169; border-color: #68D391; } /* Green */
    .benefit-1-icon { color: #68D391; }

    .benefit-card.color-2 { background-color: #3182CE; border-color: #63B3ED; } /* Blue */
    .benefit-2-icon { color: #63B3ED; }

    .benefit-card.color-3 { background-color: #B7791F; border-color: #F6AD55; } /* Orange */
    .benefit-3-icon { color: #F6AD55; }

    .benefit-card.color-4 { background-color: #805AD5; border-color: #B794F4; } /* Purple */
    .benefit-4-icon { color: #B794F4; }

    .benefit-card.color-5 { background-color: #D53F8C; border-color: #F687B3; } /* Pink */
    .benefit-5-icon { color: #F687B3; }

    .benefit-card.color-6 { background-color: #00A3C4; border-color: #00D1FF; } /* Bright Cyan */
    .benefit-6-icon { color: #00D1FF; }

    .benefit-card.color-7 { background-color: #C53030; border-color: #FC8181; } /* Red */
    .benefit-7-icon { color: #FC8181; }

    .benefit-card.color-8 { background-color: #6B46C1; border-color: #9F7AEA; } /* Darker Purple */
    .benefit-8-icon { color: #9F7AEA; }

    .benefit-card.color-9 { background-color: #2D3748; border-color: #E2E8F0; } /* Light Gray/Default for remaining */
    .benefit-9-icon { color: #E2E8F0; }


    .qualifications-section ul {
      list-style: none; /* Remove default bullet points */
      padding-left: 0;
      text-align: left;
      max-width: 800px;
      margin: 2rem auto;
    }

    .qualifications-section li {
      margin-bottom: 1rem;
      font-size: 1.1rem;
      color: #E2E8F0;
      position: relative;
      padding-left: 1.8rem; /* Space for custom bullet */
    }

    .qualifications-section li::before {
      content: '✓'; /* Custom bullet point */
      color: #00BCD4; /* Adjusted to new header gradient's teal */
      font-weight: bold;
      position: absolute;
      left: 0;
      top: 0;
    }

    .how-to-apply-section {
      background: #2D3748;
      padding: 3rem;
      border-radius: 20px;
      margin-top: 4rem;
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }

    .how-to-apply-section h2 {
      color: #00BCD4; /* Adjusted to new header gradient's teal */
      margin-bottom: 1.5rem;
    }

    .how-to-apply-section p {
      font-size: 1.1rem;
      color: #A0AEC0;
      margin-bottom: 1.5rem;
    }

    .how-to-apply-section .apply-button {
      background-color: #00BCD4; /* Adjusted to new header gradient's teal */
      color: white;
      padding: 1rem 2.5rem;
      border-radius: 30px;
      font-weight: 700;
      transition: background-color 0.3s, transform 0.2s;
      text-decoration: none;
      display: inline-block;
      margin-top: 1.5rem;
    }

    .how-to-apply-section .apply-button:hover {
      background-color: #00ACC1; /* Darker teal for hover */
      transform: translateY(-3px);
    }


    footer {
      text-align: center;
      padding: 3rem;
      background: #0a0a0a; /* Very dark footer */
      font-size: 0.9rem;
      color: #888888;
      border-top-left-radius: 30px; /* Rounded top corners */
      border-top-right-radius: 30px;
    }

    footer p {
      margin-bottom: 0.5rem; /* Spacing for footer lines */
    }

    /* Admin Panel Styles */
    /* These styles will only apply if the admin panel is dynamically added */
    .admin-panel-container .admin-panel {
      background-color: #3e3e5a;
      padding: 2.5rem;
      border-radius: 20px;
      margin-top: 4rem;
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
      text-align: left;
    }

    .admin-panel-container .admin-panel h2 {
      color: #00BCD4; /* Cyan for admin panel heading */
      margin-bottom: 1.5rem;
    }

    .admin-panel-container .input-group {
      margin-bottom: 1rem;
    }

    .admin-panel-container label {
      display: block;
      margin-bottom: 0.5rem;
      color: #e0e0eb;
      font-weight: 600;
    }

    /* Specific and forceful styling for admin panel inputs/textareas */
    #adminPanelContainer .admin-panel input[type="text"],
    #adminPanelContainer .admin-panel textarea,
    #adminPanelContainer .admin-panel input[type="color"] { /* Added color input */
      background-color: #2a2a4a !important; /* Even darker background */
      border: 1px solid #5a5a7a;
      padding: 0.8rem 1.2rem;
      border-radius: 10px;
      color: #ffffff !important; /* Pure white text */
      font-size: 1rem;
      box-sizing: border-box;
      width: 100%;
    }

    /* Adjust color input specific styling */
    #adminPanelContainer .admin-panel input[type="color"] {
        padding: 0.2rem; /* Smaller padding for color input */
        height: 40px; /* Fixed height for color input */
        width: 100px; /* Fixed width for color input */
        cursor: pointer;
    }

    /* Style for file input button */
    #adminPanelContainer .admin-panel input[type="file"] {
        display: block;
        width: 100%;
        padding: 0.8rem 1.2rem;
        background-color: #2a2a4a;
        border: 1px solid #5a5a7a;
        border-radius: 10px;
        color: #ffffff;
        cursor: pointer;
    }

    #adminPanelContainer .admin-panel input[type="file"]::-webkit-file-upload-button {
        visibility: hidden;
        width: 0;
        padding: 0;
        margin: 0;
    }
    #adminPanelContainer .admin-panel input[type="file"]::before {
        content: 'Choose File';
        display: inline-block;
        background: #00BCD4;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 0.5rem 1.5rem;
        outline: none;
        white-space: nowrap;
        -webkit-user-select: none;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9rem;
        transition: background-color 0.3s;
    }
    #adminPanelContainer .admin-panel input[type="file"]:hover::before {
        background-color: #00ACC1;
    }


    #adminPanelContainer .admin-panel input[type="text"]::placeholder,
    #adminPanelContainer .admin-panel textarea::placeholder {
      color: #A0A0B5 !important; /* Slightly darker light grey placeholder */
    }

    .admin-panel-container button {
      background-color: #4CAF50; /* Green for add/update button */
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 30px;
      font-weight: 600;
      transition: background-color 0.3s, transform 0.2s;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      margin-top: 1.5rem;
      margin-right: 1rem;
    }

    .admin-panel-container button:hover {
      background-color: #388E3C;
      transform: translateY(-2px);
    }

    .admin-panel-container .admin-message {
      background-color: #2a2a4a;
      border-left: 4px solid #00BCD4; /* Cyan border */
      padding: 1rem;
      margin-top: 2rem;
      border-radius: 8px;
      color: #e0e0eb;
      font-size: 0.95rem;
    }

    /* Edit and Delete buttons for internship domains */
    .domain-showcase-card .edit-button,
    .domain-showcase-card .delete-button {
      display: none; /* Hidden by default */
      padding: 0.8rem 1.5rem;
      border-radius: 20px;
      font-weight: 600;
      transition: background-color 0.3s, transform 0.2s;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      margin: 0.5rem;
    }

    /* These will be shown by JS when admin is logged in */
    .domain-showcase-card.admin-mode .edit-button,
    .domain-showcase-card.admin-mode .delete-button {
      display: inline-block;
    }

    /* Logout Admin button */
    .admin-panel-container .logout-admin-button {
      margin-top: 4rem; /* Adjust spacing as needed */
      background-color: #DC2626; /* Red color for logout */
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 30px;
      font-weight: 600;
      transition: background-color 0.3s, transform 0.2s;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      display: block; /* Always block when present */
    }

    .admin-panel-container .logout-admin-button:hover {
      background-color: #B91C1C;
      transform: translateY(-2px);
    }

    /* Loading indicator for image upload */
    .image-upload-loading {
        margin-top: 1rem;
        color: #00BCD4;
        font-size: 0.9rem;
        display: none; /* Hidden by default */
    }

    /* Custom Modal/Message Box Styles */
    .custom-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    }
    .custom-modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    .custom-modal-content {
        background: #2D3748;
        padding: 25px;
        border-radius: 15px;
        text-align: center;
        max-width: 400px;
        width: 90%;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        color: #E2E8F0;
        transform: translateY(-20px);
        opacity: 0;
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
    }
    .custom-modal-overlay.active .custom-modal-content {
        transform: translateY(0);
        opacity: 1;
    }
    .custom-modal-content p {
        font-size: 1.1rem;
        margin-bottom: 20px;
    }
    .custom-modal-content button {
        background-color: #00BCD4; /* Default button color */
        color: white;
        padding: 10px 20px;
        border-radius: 20px;
        margin: 0 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
    }
    .custom-modal-content button:hover {
        transform: translateY(-2px);
    }
    .custom-modal-content .confirm-button {
        background-color: #EF4444; /* Red for confirm delete */
    }
    .custom-modal-content .confirm-button:hover {
        background-color: #C53030;
    }
    .custom-modal-content .cancel-button {
        background-color: #5a5a7a; /* Gray for cancel */
    }
    .custom-modal-content .cancel-button:hover {
        background-color: #4a4a5a;
    }


    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .logo-title-container {
        width: auto;
        background: rgba(0,0,0,0.8);
        box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        border-bottom-right-radius: 15px;
      }
      nav {
        width: 300px;
      }
    }

    @media (max-width: 768px) {
      .logo-title-container {
        padding: 1rem 1.5rem;
      }
      .logo-title-container .site-title {
        font-size: 1.5rem;
      }
      .logo-title-container .logo {
        width: 50px; /* Adjusted for smaller screens */
        height: 50px; /* Adjusted for smaller screens */
      }
      nav {
        width: 100%;
        padding-top: 5rem;
      }
      .page-header {
        padding: 6rem 1rem 3rem;
      }
      .page-header h1 {
        font-size: 2rem;
      }
      .page-header p {
        font-size: 1rem;
      }
      .section {
        padding: 3rem 1rem;
      }
      .domain-showcase-card, .benefit-card { /* Apply responsive padding */
        padding: 1.5rem;
      }
      .domain-showcase-card h3, .benefit-card h3 {
        font-size: 1.5rem;
      }
      .benefits-grid {
        grid-template-columns: 1fr; /* Stack benefits on small screens */
      }
      .benefit-card .icon-wrapper {
        width: 60px;
        height: 60px;
      }
      .benefit-card .icon-wrapper svg {
        width: 35px;
        height: 35px;
      }
    }
  </style>
</head>
<body>

  <!-- Custom Message Box/Modal HTML -->
  <div id="customMessageModal" class="custom-modal-overlay">
    <div class="custom-modal-content">
      <p id="customMessageText"></p>
      <button id="customMessageCloseButton">OK</button>
    </div>
  </div>

  <div id="customConfirmModal" class="custom-modal-overlay">
    <div class="custom-modal-content">
      <p id="customConfirmText"></p>
      <button id="customConfirmYesButton" class="confirm-button">Yes</button>
      <button id="customConfirmNoButton" class="cancel-button">No</button>
    </div>
  </div>

  <!-- Logo and Site Title - Consistent with index.html -->
  <div class="logo-title-container">
    <img src="logo.png" alt="Partnerdesk Logo" class="logo">
    <span class="site-title">Partnerdesk</span>
  </div>

  <!-- Hamburger Menu - Consistent with index.html -->
  <div class="hamburger-menu" onclick="window.toggleNav()">
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
  </div>

  <!-- Navigation Overlay - Consistent with index.html -->
  <div class="overlay" onclick="window.toggleNav()"></div>

  <!-- Navigation Bar - Consistent with index.html -->
  <nav id="main-nav">
    <a href="index.html" onclick="window.toggleNav()">Home</a>
    <a href="internships.html" onclick="window.toggleNav()">Internships</a>
    <a href="learning.html" onclick="window.toggleNav()">Learning</a>
    <a href="freelancing.html" onclick="window.toggleNav()">Freelancing</a>
    <a href="partners.html" onclick="window.toggleNav()">Partners</a>
    <a href="about.html" onclick="window.toggleNav()">About</a>
    <a href="contact.html" onclick="window.toggleNav()">Contact</a>
    <div class="nav-divider my-4 h-px bg-gray-700"></div>
    <a href="verify.html" onclick="window.toggleNav()">Authenticate Your Certificate</a>
    <a href="downloads.html" onclick="window.toggleNav()">Downloads</a> <!-- New Downloads tab -->
    <a href="admin_login.html" id="adminLoginLink" class="hidden" onclick="window.toggleNav()">Admin Login</a> <!-- New Admin Login link -->
  </nav>

  <!-- Page Header Section -->
  <header class="page-header">
    <h1>Internship Opportunities at Partnerdesk</h1>
    <p>Your gateway to real-world experience, skill development, and career acceleration.</p>
  </header>

  <!-- Introduction Section -->
  <section class="section">
    <p class="text-xl max-w-3xl mx-auto text-center text-gray-300">
      Partnerdesk offers a variety of remote internships for the duration of <strong>30 days / 60 days / 90 days</strong> designed to equip you with real-world skills, meaningful exposure, and growth-oriented experiences. Our internship program is flexible, <strong>revenue-based paid</strong>, and built to help you stand out in your professional journey.
    </p>
  </section>

  <!-- Domain Spotlight Section -->
  <section class="section">
    <h2>Choose from Exciting Domains to Launch Your Career</h2>
    <p class="text-lg max-w-3xl mx-auto mb-10 text-gray-400">
      Are you ready to gain hands-on experience, work on real-world projects, and develop career-building skills? At Partnerdesk, our Internship Program offers dynamic roles across multiple fields — whether you're creative, analytical, people-oriented, or passionate about change. Explore your potential through diverse domains, guided mentorship, and a vibrant work culture.
    </p>

    <!-- Loading and No Domains messages moved outside the list container -->
    <div id="loadingInternshipDomains" class="text-center text-cyan-400">Loading internship domains...</div>
    <p id="noInternshipDomainsMessage" class="text-xl text-gray-400 mt-10 hidden">No internship domains found.</p>

    <!-- Internship Domain Showcase Cards will be loaded dynamically from Firestore here -->
    <div id="internshipDomainsList">
    </div>
  </section>

  <!-- Benefits of Interning with Partnerdesk Section -->
  <section class="section">
    <h2>Why Intern with Partnerdesk?</h2>
    <p class="text-lg max-w-3xl mx-auto mb-10 text-gray-400">
      We don’t just offer internships — we create an experience that transforms your potential into performance. Here’s why Partnerdesk is the perfect place to start your professional journey:
    </p>
    <div class="benefits-grid">
      <div class="benefit-card color-1">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
        </div>
        <h3>Real-Time Projects & Practical Exposure</h3>
        <p>Get hands-on experience by working on live assignments and real client tasks. No coffee runs or dummy tasks — you’ll be contributing to actual projects that make a difference.</p>
      </div>
      <div class="benefit-card color-2">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
          </svg>
        </div>
        <h3>Mentorship by Industry Experts</h3>
        <p>Work under the guidance of experienced professionals who offer practical knowledge, career advice, and one-on-one mentorship. Learn what textbooks can’t teach.</p>
      </div>
      <div class="benefit-card color-3">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"/>
          </svg>
        </div>
        <h3>Certificates & Letter of Recommendation</h3>
        <p>Every intern receives a certificate of completion and eligible candidates are awarded personalized Letters of Recommendation (LORs) — great for your resume and job interviews.</p>
      </div>
      <div class="benefit-card color-4">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
          </svg>
        </div>
        <h3>Flexible Work Environment</h3>
        <p>We understand students juggle multiple responsibilities. That’s why we offer flexible working hours and a remote-friendly setup — so you can learn without stress.</p>
      </div>
      <div class="benefit-card color-5">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
        </div>
        <h3>Skill Development Across Domains</h3>
        <p>Choose from 4 diverse fields, including HR, Marketing, Finance, and NGO. Pick the path that matches your passion, and we’ll help you grow in it.</p>
      </div>
      <div class="benefit-card color-6">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7z"/>
          </svg>
        </div>
        <h3>Professional Networking</h3>
        <p>Connect with industry peers, mentors, and professionals from various fields. Build meaningful relationships that could open doors for future job opportunities.</p>
      </div>
      <div class="benefit-card color-7">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13z"/>
          </svg>
        </div>
        <h3>Resume & Portfolio Boost</h3>
        <p>Gain work experience that stands out on your resume. Whether you're applying for higher studies or your first job, your time at Partnerdesk will give you the edge.</p>
      </div>
      <div class="benefit-card color-8">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
          </svg>
        </div>
        <h3>Growth-Oriented Culture</h3>
        <p>We value fresh ideas and creativity. Interns at Partnerdesk are encouraged to take initiative, voice their opinions, and think like entrepreneurs.</p>
      </div>
      <div class="benefit-card color-9">
        <div class="icon-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
        </div>
        <h3>Impact-Driven Work</h3>
        <p>Whether you're designing a campaign, writing content, or helping NGOs raise funds — your work will have real-world impact on people, businesses, and communities.</p>
      </div>
    </div>
  </section>

  <!-- Qualifications & Required Skills Section -->
  <section class="section qualifications-section">
    <h2>Qualifications & Required Skills</h2>
    <p class="text-lg max-w-3xl mx-auto mb-6 text-gray-400">
      We’re looking for passionate learners who are ready to explore, contribute, and grow — no matter which domain they choose. Here’s what we value in our interns across all internship tracks:
    </p>

    <h3 class="text-2xl font-bold text-white mb-4">🎓 Basic Qualifications:</h3>
    <ul>
      <li>Currently pursuing or recently completed a degree in any field related to: Business Administration, Marketing, Finance, Design, HR, Fashion, Media, Education, Psychology, or relevant disciplines.</li>
      <li>Open to undergraduates, graduates, and postgraduates.</li>
      <li>No prior experience required — just a willingness to learn and grow!</li>
      <li>📌 You don’t need to be an expert — you just need to be eager to explore. Choose your domain. Sharpen your skills. Let’s build something great together at Partnerdesk.</li>
    </ul>

    <h3 class="text-2xl font-bold text-white mt-8 mb-4">🙌 We Welcome:</h3>
    <ul>
      <li>Students seeking hands-on learning</li>
      <li>Fresh graduates ready to explore new paths</li>
      <li>Self-starters with a hunger to grow</li>
      <li>Candidates from all academic backgrounds — because we believe innovation comes from everywhere.</li>
    </ul>
    <p class="text-lg max-w-3xl mx-auto mt-6 text-gray-300">
      If you're curious, committed, and ready to make an impact, Partnerdesk is the launchpad you’ve been looking for. 🚀
    </p>
  </section>

  <!-- How to Apply Section -->
  <section class="section how-to-apply-section">
    <h2>🔎 How to Apply</h2>
    <p>
      Ready to launch your career in a domain you're passionate about? Whether it's Human Resource Management, Digital Marketing & Content Creation, Financial Literacy, NGO & Social Work, or anything in between — Partnerdesk has a place for you!
    </p>
    <p class="font-bold text-xl">📩 Here’s how you can apply:</p>
    <p>Register through the official application link.</p>
    <p class="text-lg mt-4">
      🎯 Let’s work together to shape your future, develop your talents, and turn your interests into real impact.
    </p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLScJXzLU6K8MV6VBwDRHKZM1aTIAjEOw9JZEuVn1r4o7wkt1SA/viewform" target="_blank" class="apply-button">Apply Now</a>
    <p class="text-xl mt-8 text-white">For Queries Contact Us at : <strong>7525869600</strong></p>
  </section>

  <!-- Container for Admin Panel (will be populated by JS) -->
  <div id="adminPanelContainer" class="section"></div>

  <!-- Footer - Consistent with index.html -->
  <footer>
    <p>&copy; 2025 Partnerdesk. All Rights Reserved.</p>
    <p>Partnerdesk is a registered MSME under the Government of India.</p>
    <p>Registration No. : <span id="footerMsmeRegNo">UDYAM-UP-03-0104523</span></p>
    <p>Registered Office :</p>
    <p><span id="footerAddress">9/8, George Town, Prayagraj, Uttar Pradesh, Pin–211001</span></p>
    <p>Email: <span id="footerEmail">info@partnerdesk.in</span></p>
    <p>Phone: <span id="footerPhone">+91-XXXXXXXXXX</span></p>
  </footer>

  <script type="module">
    // Firebase SDK imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, collection, addDoc, onSnapshot, query, doc, deleteDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    // Removed Firebase Storage imports

    // IMPORTANT: Replace this with your actual Firebase config object
    const firebaseConfig = {
      apiKey: "AIzaSyAiEhapkQvQnOtxZCQFa6TbOEWg3yelS8c",
      authDomain: "certificates-b42ef.firebaseapp.com",
      projectId: "certificates-b42ef",
      storageBucket: "certificates-b42ef.firebasestorage.app", // Still needed for project context, but not for direct upload
      messagingSenderId: "317230336893",
      appId: "1:317230336893:web:915181dc11ed7264255a14",
      // measurementId: "YOUR_MEASUREMENT_ID" // Optional
    };

    // --- Cloudinary Configuration ---
    // YOU MUST REPLACE THESE WITH YOUR OWN CLOUDINARY CREDENTIALS
    const CLOUDINARY_CLOUD_NAME = 'dy15lyntn'; // e.g., 'my-awesome-cloud'
    const CLOUDINARY_UPLOAD_PRESET = 'partnerdesk_internship_uploads'; // e.g., 'partnerdesk_internship_uploads'
    // --------------------------------

    const currentAppId = firebaseConfig.projectId;

    let app;
    let db;
    let auth;
    let currentUserId; // To store the authenticated user's ID

    // Initialize Firebase and set up auth listener immediately
    app = initializeApp(firebaseConfig);
    db = getFirestore(app);
    auth = getAuth(app);

    window.app = app;
    window.db = db;
    window.auth = auth;
    window.firebaseConfig = firebaseConfig;

    console.log("App ID being used (from firebaseConfig.projectId):", currentAppId);

    // --- Custom Modal/Message Box Functions ---
    function showMessage(message, type = 'info') {
        const modal = document.getElementById('customMessageModal');
        const messageText = document.getElementById('customMessageText');
        const closeButton = document.getElementById('customMessageCloseButton');

        messageText.textContent = message;
        // Optional: Add styling based on type (e.g., 'error', 'success', 'info')
        // For simplicity, we'll keep it general for now.
        
        modal.classList.add('active');
        closeButton.onclick = () => modal.classList.remove('active');
    }

    function showConfirm(message) {
        return new Promise(resolve => {
            const modal = document.getElementById('customConfirmModal');
            const confirmText = document.getElementById('customConfirmText');
            const yesButton = document.getElementById('customConfirmYesButton');
            const noButton = document.getElementById('customConfirmNoButton');

            confirmText.textContent = message;
            modal.classList.add('active');

            const cleanup = () => {
                modal.classList.remove('active');
                yesButton.onclick = null;
                noButton.onclick = null;
            };

            yesButton.onclick = () => {
                cleanup();
                resolve(true);
            };
            noButton.onclick = () => {
                cleanup();
                resolve(false);
            };
        });
    }
    // -------------------------------------------


    // Function to render the admin panel dynamically
    function renderAdminPanel() {
      const adminPanelContainer = document.getElementById('adminPanelContainer');
      if (!adminPanelContainer) {
        console.error("Admin panel container not found!");
        return;
      }

      adminPanelContainer.innerHTML = `
        <h2 class="text-3xl font-bold mb-4 text-white">Manage Internship Domains</h2>
        <div class="admin-panel">
          <p class="admin-message">
            <strong>Note:</strong> Changes made here will be saved directly to the database and will persist.
          </p>

          <input type="hidden" id="currentDomainId">

          <div class="input-group">
            <label for="domainTitle">Domain Title:</label>
            <input type="text" id="domainTitle" placeholder="e.g., Human Resource Management">
          </div>
          <div class="input-group">
            <label for="domainDescription">Description:</label>
            <textarea id="domainDescription" placeholder="A detailed description of the internship domain."></textarea>
          </div>
          <div class="input-group">
            <label for="domainImageUrl">Image URL (or upload below):</label>
            <input type="text" id="domainImageUrl" placeholder="e.g., https://res.cloudinary.com/your-cloud/image.png">
          </div>
          <div class="input-group">
            <label for="domainImageUpload">Upload Image to Cloudinary:</label>
            <input type="file" id="domainImageUpload" accept="image/*">
            <div id="imageUploadLoading" class="image-upload-loading">Uploading...</div>
          </div>
          <div class="input-group">
            <label for="domainApplyLink">Application Link:</label>
            <input type="text" id="domainApplyLink" placeholder="e.g., https://docs.google.com/forms/d/...">
          </div>
          <div class="input-group">
            <label for="domainCardColor">Card Color:</label>
            <input type="color" id="domainCardColor" value="#2a2a4a"> <!-- Added color picker -->
          </div>
          
          <button id="saveDomainButton">Add New Domain</button>
          <button id="clearFormButton" class="bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition duration-200">Clear Form</button>
        </div>
        <button id="logoutAdminButton" class="logout-admin-button">Logout Admin</button>
      `;

      // Attach event listeners after elements are created
      document.getElementById('saveDomainButton').onclick = window.addOrUpdateInternshipDomain;
      document.getElementById('clearFormButton').onclick = window.clearDomainForm;
      document.getElementById('logoutAdminButton').onclick = window.adminLogout;

      // Attach event listener for image upload
      document.getElementById('domainImageUpload').addEventListener('change', window.handleImageUpload);
    }

    // Function to handle image upload to Cloudinary
    window.handleImageUpload = async function(event) {
        const file = event.target.files[0];
        console.log("handleImageUpload: File selected:", file);

        if (!file) {
            console.log("handleImageUpload: No file selected.");
            return;
        }

        if (!CLOUDINARY_CLOUD_NAME || CLOUDINARY_CLOUD_NAME === 'YOUR_CLOUDINARY_CLOUD_NAME' ||
            !CLOUDINARY_UPLOAD_PRESET || CLOUDINARY_UPLOAD_PRESET === 'YOUR_CLOUDINARY_UPLOAD_PRESET_NAME') {
            showMessage("Cloudinary not configured. Please set CLOUDINARY_CLOUD_NAME and CLOUDINARY_UPLOAD_PRESET in the code.", 'error');
            return;
        }

        const imageUploadLoading = document.getElementById('imageUploadLoading');
        imageUploadLoading.style.display = 'block'; // Show loading indicator
        document.getElementById('domainImageUrl').value = ''; // Clear existing URL

        const formData = new FormData();
        formData.append('file', file);
        formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);

        try {
            const response = await fetch(`https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`, {
                method: 'POST',
                body: formData
            });

            if (!response.ok) {
                const errorData = await response.json();
                console.error("Cloudinary upload failed:", errorData);
                throw new Error(errorData.error ? errorData.error.message : 'Unknown Cloudinary error');
            }

            const data = await response.json();
            const downloadURL = data.secure_url; // Use secure_url for HTTPS

            document.getElementById('domainImageUrl').value = downloadURL;
            imageUploadLoading.textContent = 'Upload complete!';
            imageUploadLoading.style.color = '#4CAF50'; // Green for success
            console.log('File available at', downloadURL);
            setTimeout(() => {
                imageUploadLoading.style.display = 'none'; // Hide after a delay
                imageUploadLoading.style.color = '#00BCD4'; // Reset color
            }, 3000);

        } catch (error) {
            console.error("Image upload failed:", error);
            imageUploadLoading.textContent = `Upload failed: ${error.message}`;
            imageUploadLoading.style.color = '#EF4444'; // Red for error
            showMessage(`Image upload failed: ${error.message}`, 'error');
        }
    }

    // Function to load contact info into the footer
    function loadContactInfoIntoFooter() {
        if (!db) {
            console.error("Firestore not initialized. Cannot load contact info.");
            return;
        }

        const contactDocRef = doc(db, `artifacts/${currentAppId}/public/data/contactInfo`, 'mainContact');

        onSnapshot(contactDocRef, (docSnap) => {
            if (docSnap.exists()) {
                const data = docSnap.data();
                document.getElementById('footerAddress').textContent = data.address || '9/8, George Town, Prayagraj, Uttar Pradesh, Pin–211001';
                document.getElementById('footerEmail').textContent = data.email || 'info@partnerdesk.in';
                document.getElementById('footerPhone').textContent = data.phone || '+91-XXXXXXXXXX';
                document.getElementById('footerMsmeRegNo').textContent = data.msmeRegNo || 'UDYAM-UP-03-0104523';

            } else {
                // Default static info if no document exists
                document.getElementById('footerAddress').textContent = '9/8, George Town, Prayagraj, Uttar Pradesh, Pin–211001';
                document.getElementById('footerEmail').textContent = 'info@partnerdesk.in';
                document.getElementById('footerPhone').textContent = '+91-XXXXXXXXXX';
                document.getElementById('footerMsmeRegNo').textContent = 'UDYAM-UP-03-0104523';
            }
        }, (error) => {
            console.error("Error fetching contact info:", error);
            // Fallback to default static info on error
            document.getElementById('footerAddress').textContent = '9/8, George Town, Prayagraj, Uttar Pradesh, Pin–211001';
            document.getElementById('footerEmail').textContent = 'info@partnerdesk.in';
            document.getElementById('footerPhone').textContent = '+91-XXXXXXXXXX';
            document.getElementById('footerMsmeRegNo').textContent = 'UDYAM-UP-03-0104523';
        });
    }

    // Helper function to convert hex to RGB
    function hexToRgb(hex) {
        let r = 0, g = 0, b = 0;
        // Handle #RRGGBB or #RGB
        if (hex.length === 7) { // #RRGGBB
            r = parseInt(hex.substring(1, 3), 16);
            g = parseInt(hex.substring(3, 5), 16);
            b = parseInt(hex.substring(5, 7), 16);
        } else if (hex.length === 4) { // #RGB
            r = parseInt(hex[1] + hex[1], 16);
            g = parseInt(hex[2] + hex[2], 16);
            b = parseInt(hex[3] + hex[3], 16);
        }
        return { r, g, b };
    }

    // Helper function to calculate luminance
    function getLuminance(r, g, b) {
        // Normalize RGB values to 0-1
        const R = r / 255;
        const G = g / 255;
        const B = b / 255;

        // Apply gamma correction (sRGB to linear RGB)
        const sRGBtoLinear = (c) => (c <= 0.03928) ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);

        const linearR = sRGBtoLinear(R);
        const linearG = sRGBtoLinear(G);
        const linearB = sRGBtoLinear(B);

        // Calculate luminance (ITU-R BT.709)
        return 0.2126 * linearR + 0.7152 * linearG + 0.0722 * linearB;
    }

    // Function to determine text color based on background luminance
    function getTextColorForBackground(hexColor) {
        const { r, g, b } = hexToRgb(hexColor);
        const luminance = getLuminance(r, g, b);

        // A common threshold for light/dark text is 0.179 or 0.5
        // Using 0.179 for better contrast on slightly darker backgrounds
        if (luminance > 0.179) {
            return '#1A202C'; // Dark text for light backgrounds
        } else {
            return '#E2E8F0'; // Light text for dark backgrounds
        }
    }

    // Function to lighten a color (for border)
    function lightenColor(hex, percent) {
        let f=parseInt(hex.slice(1),16),t=percent<0?0:255,p=percent<0?p=percent*-1:percent,R=f>>16,G=(f>>8)&0x00FF,B=f&0x0000FF;
        return "#"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);
    }

    // Listen for authentication state changes
    onAuthStateChanged(auth, (user) => {
      const adminPanelContainer = document.getElementById('adminPanelContainer');
      const adminLoginLink = document.getElementById('adminLoginLink'); // Get the new link

      if (user) {
        currentUserId = user.uid;
        console.log("onAuthStateChanged: User is authenticated. UID:", currentUserId);
        // Render admin panel if user is authenticated
        renderAdminPanel();
        // Add admin-mode class to all domain cards so edit/delete buttons show
        document.querySelectorAll('.domain-showcase-card').forEach(card => {
          card.classList.add('admin-mode');
        });
        if (adminLoginLink) {
          adminLoginLink.classList.add('hidden'); // Hide Admin Login link if logged in
        }
      } else {
        currentUserId = null;
        console.log("onAuthStateChanged: No user authenticated.");
        // Clear admin panel if no user is authenticated
        if (adminPanelContainer) {
          adminPanelContainer.innerHTML = '';
        }
        // Remove admin-mode class from all domain cards
        document.querySelectorAll('.domain-showcase-card').forEach(card => {
          card.classList.remove('admin-mode');
        });
        if (adminLoginLink) {
          adminLoginLink.classList.remove('hidden'); // Show Admin Login link if not logged in
        }
      }
      // Always load domains after auth state is determined
      // This ensures the correct state (with/without edit/delete buttons) is rendered
      window.loadInternshipDomains();
    });

    // Function to render internship domain cards
    window.renderInternshipDomains = function(domains) {
      const domainsList = document.getElementById('internshipDomainsList');
      domainsList.innerHTML = ''; // Clear existing cards
      const noDomainsMessage = document.getElementById('noInternshipDomainsMessage');

      if (domains.length === 0) {
        noDomainsMessage.classList.remove('hidden');
      } else {
        noDomainsMessage.classList.add('hidden');
        domains.forEach(domain => {
          // Use the stored color or a default dark background
          const cardBgColor = domain.cardColor || '#2a2a4a';
          // Lighten the card background color for the border
          const cardBorderColor = lightenColor(cardBgColor, 0.2); // Lighten by 20%
          // Determine text color based on background
          const cardTextColor = getTextColorForBackground(cardBgColor);

          const cardHtml = `
            <div class="domain-showcase-card ${currentUserId ? 'admin-mode' : ''}"
                 style="background-color: ${cardBgColor}; border-color: ${cardBorderColor}; color: ${cardTextColor};">
              <img src="${domain.imageUrl || 'https://placehold.co/350x200/007bff/FFFFFF?text=No+Image'}" alt="${domain.title || 'Internship Image'}" onerror="this.onerror=null;this.src='https://placehold.co/350x200/007bff/FFFFFF?text=No+Image';" >
              <h3>${domain.title || 'Untitled Domain'}</h3>
              <p>${domain.description || 'No description available.'}</p>
              <div class="flex flex-wrap justify-center mt-auto">
                <a href="${domain.applyLink || '#'}" target="_blank" class="apply-button">Apply Now</a>
                <button class="edit-button bg-blue-500 hover:bg-blue-600" onclick="window.editInternshipDomain('${domain.id}')">Edit</button>
                <button class="delete-button bg-red-500 hover:bg-red-600" onclick="window.deleteInternshipDomain('${domain.id}')">Delete</button>
              </div>
            </div>
          `;
          domainsList.insertAdjacentHTML('beforeend', cardHtml);
        });
      }
    }

    // Function to load internship domains from Firestore in real-time
    window.loadInternshipDomains = function() {
      if (!db) {
        console.error("loadInternshipDomains: Firestore not initialized. Cannot load data.");
        document.getElementById('internshipDomainsList').innerHTML = "<p class='text-red-500'>Error: Database not ready.</p>";
        return;
      }
      const collectionPath = `artifacts/${currentAppId}/public/data/internshipDomains`;
      console.log("loadInternshipDomains: Attempting to load domains from path:", collectionPath);

      const loadingIndicator = document.getElementById('loadingInternshipDomains');
      const noDomainsMessage = document.getElementById('noInternshipDomainsMessage');

      // Show loading indicator and hide no domains message initially
      if (loadingIndicator) loadingIndicator.classList.remove('hidden');
      if (noDomainsMessage) noDomainsMessage.classList.add('hidden');


      onSnapshot(collection(db, collectionPath), (snapshot) => {
        // Hide loading indicator once data is received (even if empty)
        if (loadingIndicator) loadingIndicator.classList.add('hidden');

        const domains = [];
        snapshot.forEach(doc => {
          domains.push({ id: doc.id, ...doc.data() });
        });
        window.renderInternshipDomains(domains);
      }, (error) => {
        console.error("Error fetching internship domains: ", error);
        // Hide loading indicator on error
        if (loadingIndicator) loadingIndicator.classList.add('hidden');
        document.getElementById('internshipDomainsList').innerHTML = `<p class='text-red-500'>Error loading domains: ${error.message}</p>`;
      });
    }

    // Function to add or update an internship domain
    window.addOrUpdateInternshipDomain = async function() {
      if (!db || !auth.currentUser) {
        console.error("Firestore not initialized or user not authenticated. Cannot add/update domain.");
        showMessage("Error: Not authenticated. Please log in as admin.", 'error');
        return;
      }

      const domainId = document.getElementById('currentDomainId').value;
      const title = document.getElementById('domainTitle').value.trim();
      const description = document.getElementById('domainDescription').value.trim();
      const imageUrl = document.getElementById('domainImageUrl').value.trim();
      const applyLink = document.getElementById('domainApplyLink').value.trim();
      const cardColor = document.getElementById('domainCardColor').value; // Get color value

      if (!title || !description || !imageUrl || !applyLink || !cardColor) { // Validate all fields
        showMessage('Please fill in all fields to add/update an internship domain.', 'error');
        return;
      }

      const domainData = {
        title: title,
        description: description,
        imageUrl: imageUrl,
        applyLink: applyLink,
        cardColor: cardColor, // Save color
        lastUpdated: new Date().toISOString(),
        updatedBy: auth.currentUser.uid
      };

      try {
        if (domainId) {
          // Update existing domain
          const domainDocRef = doc(db, `artifacts/${currentAppId}/public/data/internshipDomains`, domainId);
          await updateDoc(domainDocRef, domainData);
          console.log("Document successfully updated with ID: ", domainId);
          showMessage('Internship domain updated successfully!', 'success');
        } else {
          // Add new domain
          const docRef = await addDoc(collection(db, `artifacts/${currentAppId}/public/data/internshipDomains`), domainData);
          console.log("Document written with ID: ", docRef.id);
          showMessage('Internship domain added successfully!', 'success');
        }
        window.clearDomainForm(); // Clear form after success
      } catch (e) {
        console.error("Error adding/updating document: ", e);
        showMessage(`Error adding/updating domain: ${e.message}`, 'error');
      }
    }

    // Function to populate form for editing
    window.editInternshipDomain = function(docId) {
      const domainToEdit = Array.from(document.querySelectorAll('.domain-showcase-card')).find(card => {
        const editButton = card.querySelector(`.edit-button[onclick*='${docId}']`);
        return editButton !== null;
      });

      if (domainToEdit) {
        document.getElementById('currentDomainId').value = docId;
        document.getElementById('domainTitle').value = domainToEdit.querySelector('h3').textContent;
        document.getElementById('domainDescription').value = domainToEdit.querySelector('p').textContent;
        document.getElementById('domainImageUrl').value = domainToEdit.querySelector('img').src;
        document.getElementById('domainApplyLink').value = domainToEdit.querySelector('.apply-button').href;
        // Populate color picker
        const cardColor = domainToEdit.style.backgroundColor;
        // Convert rgb(a) to hex if necessary, or ensure it's a valid hex
        document.getElementById('domainCardColor').value = rgbToHex(cardColor) || '#2a2a4a';


        document.getElementById('saveDomainButton').textContent = 'Update Domain';
        window.scrollTo({ top: document.getElementById('adminPanelContainer').offsetTop, behavior: 'smooth' });
      } else {
        console.error("Domain not found for editing:", docId);
        showMessage("Error: Domain not found for editing.", 'error');
      }
    }

    // Helper function to convert RGB to Hex (for populating color picker)
    function rgbToHex(rgb) {
        if (!rgb || typeof rgb !== 'string') {
            return '';
        }
        const rgbMatch = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
        if (!rgbMatch) {
            return '';
        }
        const r = parseInt(rgbMatch[1]);
        const g = parseInt(rgbMatch[2]);
        const b = parseInt(rgbMatch[3]);
        return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
    }


    // Function to clear the admin form
    window.clearDomainForm = function() {
      document.getElementById('currentDomainId').value = '';
      document.getElementById('domainTitle').value = '';
      document.getElementById('domainDescription').value = '';
      document.getElementById('domainImageUrl').value = '';
      document.getElementById('domainApplyLink').value = '';
      document.getElementById('domainCardColor').value = '#2a2a4a'; // Reset color picker
      document.getElementById('saveDomainButton').textContent = 'Add New Domain';
      document.getElementById('imageUploadLoading').style.display = 'none'; // Hide upload message
      document.getElementById('imageUploadLoading').textContent = 'Uploading...'; // Reset message
      document.getElementById('imageUploadLoading').style.color = '#00BCD4'; // Reset color
      document.getElementById('domainImageUpload').value = ''; // Clear file input
    }

    // Function to delete an internship domain
    window.deleteInternshipDomain = async function(docId) {
      console.log("Attempting to delete internship domain with ID:", docId);

      if (!db || !auth.currentUser) {
        console.error("Error: Firestore not initialized or user not authenticated. Cannot delete domain.");
        showMessage("Error: Not authenticated. Please log in as admin.", 'error');
        return;
      }

      const confirmDelete = await showConfirm("Are you sure you want to delete this internship domain? This action cannot be undone.");
      
      if (!confirmDelete) {
        console.log("Deletion cancelled by user.");
        return;
      }

      try {
        const domainDocRef = doc(db, `artifacts/${currentAppId}/public/data/internshipDomains`, docId);
        await deleteDoc(domainDocRef);
        console.log("Document successfully deleted with ID:", docId);
        showMessage("Internship domain deleted successfully!", 'success');
      } catch (e) {
        console.error("Error removing document:", e);
        showMessage(`Error deleting domain: ${e.message}`, 'error');
      }
    };

    // Function to logout admin
    window.adminLogout = async function() {
      if (!auth) {
        console.warn("adminLogout: Firebase Auth not initialized.");
        return;
      }
      try {
        await signOut(auth);
        console.log("adminLogout: Logged out successfully.");
        window.location.href = 'admin_login.html';
      } catch (error) {
        console.error("adminLogout: Error during logout:", error.code, error.message);
        showMessage(`Logout failed: ${error.message}`, 'error');
      }
    }

    // Function to toggle navigation for mobile
    window.toggleNav = function() {
      const nav = document.getElementById('main-nav');
      const overlay = document.querySelector('.overlay');
      const body = document.body;

      nav.classList.toggle('active');
      overlay.classList.toggle('active');
      body.classList.toggle('no-scroll');
    }

    // ScrollReveal animations (keep existing ones)
    ScrollReveal().reveal('.logo-title-container', {
      delay: 100,
      origin: 'left',
      distance: '30px',
      duration: 800,
      easing: 'ease-in-out',
      reset: false
    });

    ScrollReveal().reveal('.page-header h1', {
      delay: 300,
      distance: '50px',
      origin: 'top',
      duration: 1000,
      easing: 'ease-out',
      reset: false
    });

    ScrollReveal().reveal('.page-header p', {
      delay: 500,
      distance: '30px',
      origin: 'bottom',
      duration: 1000,
      easing: 'ease-out',
      reset: false
    });

    ScrollReveal().reveal('.section h2', {
      delay: 200,
      distance: '40px',
      origin: 'top',
      duration: 900,
      easing: 'ease-in-out',
      reset: false
    });

    // Animations for the prominent domain showcase cards
    ScrollReveal().reveal('.domain-showcase-card', {
      interval: 200, /* Staggered appearance */
      delay: 400,
      distance: '50px',
      origin: 'bottom',
      duration: 1000,
      easing: 'ease-in-out',
      reset: false
    });

    // Animations for the new benefits cards
    ScrollReveal().reveal('.benefit-card', {
      interval: 100, /* Staggered appearance for each benefit card */
      delay: 300,
      distance: '30px',
      origin: 'bottom',
      duration: 800,
      easing: 'ease-in-out',
      reset: false
    });

    ScrollReveal().reveal('.qualifications-section h3, .qualifications-section ul', {
      delay: 200,
      distance: '30px',
      origin: 'bottom',
      duration: 900,
      easing: 'ease-in-out',
      reset: false
    });

    ScrollReveal().reveal('.how-to-apply-section', {
      delay: 200,
      distance: '40px',
      origin: 'bottom',
      duration: 900,
      easing: 'ease-in-out',
      reset: false
    });

    ScrollReveal().reveal('footer', {
      delay: 100,
      distance: '20px',
      origin: 'bottom',
      duration: 800,
      easing: 'ease-in-out',
      reset: false
    });

    // Close nav when a nav link is clicked
    document.querySelectorAll('#main-nav a').forEach(link => {
      link.addEventListener('click', () => {
        const nav = document.getElementById('main-nav');
        if (nav.classList.contains('active')) {
          window.toggleNav();
        }
      });
    });

    document.addEventListener('DOMContentLoaded', () => {
        loadContactInfoIntoFooter();
    });
  </script>
</body>
</html>
